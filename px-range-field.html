<link rel="import" href="../polymer/polymer.html"/>

<!--
Range field component which displays to/from fields and font awesome icon.

##### Usage

    <px-range-field icon="fa-calendar"
                    from="{{fromDate}}" to="{{toDate}}">
    </px-range-field>

-->
<dom-module id="px-range-field">
  <link rel="import" type="css" href="css/px-range-field.css"/>
  <template>
    <div class="range-field__field text-input flex flex--middle">
      <label class=label--inline on-click="selectFrom">
        <span class=a11y>From</span>
        <i id="icon" class="fa"></i>
      </label>
      <input id=from type=text class=text-input--bare value="{{from}}" on-click="_selectFrom">
      <label class="caps label--inline" on-click="selectTo">to</label>
      <input id=to type=text class=text-input--bare value="{{to}}" on-click="_selectTo">
    </div>
  </template>
</dom-module>

<script>
  Polymer({

    is: 'px-range-field',

    properties: {

      /**
       * Font awesome icon to display
       *
       * 'fa-calendar' or 'fa-clock-o'
       */
      icon: {
        type: String
      },

      /**
       * From field text
       *
       * '08/10/2014' or '10:30:00 AM'
       */
      from: {
        type: String
      },

      /**
       * To field text
       *
       * '08/10/2014' or '10:30:00 AM'
       */
      to: {
        type: String
      }

    },

    ready: function() {
      this.toggleClass(this.icon, true, this.$.icon);
    },

    _selectFrom: function() {
      this.fire('px-selected-range-field', 'from');
    },

    _selectTo: function() {
      this.fire('px-selected-range-field', 'to');
    }

  });
</script>
